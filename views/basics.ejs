<!DOCTYPE html>
<html lang="en">

<head>
    <%- include('./partials/head') %>
        <link rel="stylesheet" href="/css/style2.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
</head>

<body>
    <%- include('./partials/header') %>

        <body>
            <div class="main">
                <% if(locals.videos){ %>
                <div class="anchor">
                    <video width="900" height="480" controls>
                            <source src="<%= videos.video %>" type="video/mp4">
                        </video>
                        <h2>
                            <%= videos.title %>
                        </h2>
                        <% } %>
                </div>
                <div class="basic">
                    <div class="section-1">
                        <h2 class="h2">Section 1 </h2>
                    </div>
                    <div class="clicksection1" class="Introduction">
                        <ul class="Introdropdown1" type="none">
                            <li class="common" data-id="001">
                                <input type="checkbox">
                                <span>Introduction</span>
                                </a>
                            </li>
                        </ul>
                    </div>

                    <div class="section-2">
                        <h2 class="h2">Section 2 - Alphabets </h2>
                    </div>
                    <div class="clicksection2">
                        <ul class="Introdropdown2" type="none">
                            <li class="common" data-id="002" class="alphabets">
                                <input type="checkbox">
                                <span>Alphabets</span>
                            </li>
                            <li class="common">
                                <input type="checkbox">
                                <span>quizze-1</quizze-1></span>
                            </li>
                            <li class="common">
                                <input type="checkbox">
                                <span >quizze-2</span>
                            </li>
                        </ul>
                    </div>

                    <div class="section-3">
                        <h2 class="h2">Section 3 -Numbers </h2>
                    </div>
                    <div class="clicksection3">

                        <ul class="Introdropdown3" type="none">
                            <li class="common" data-id="003" >
                                <input type="checkbox">
                                <span>Numbers</span>
                            </li>
                            <li class="common">
                                <input type="checkbox">
                                <span>quizze-1</span>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <%- include('./partials/footer') %>
            <script>
                $(".Introdropdown1,.Introdropdown2,.Introdropdown3").hide();
                $(".section-1").on("click", function () {
                    $(".Introdropdown1").toggle();
                });
                $(".section-2").on("click", function () {
                    $(".Introdropdown2").toggle();
                });
                $(".section-3").on("click", function () {
                    $(".Introdropdown3").toggle();
                });
                
                $(document).ready(function () {
                    $(".common").on("click", function () {
                        const videoId = $(this).data("id");
                        
                        $.ajax({
                            url: `/tutorials/basics/${videoId}`,
                            type: 'GET',
                            dataType: 'json',
                            success: function(data) {
                                // Update video source and title
                                $(".anchor video source").attr("src", data.videos.video);
                                $(".anchor h2").text(data.videos.title);
                                
                                // Important: Need to reload the video element after changing source
                                $(".anchor video")[0].load();
                                $(".anchor video")[0].play();
                            },
                            error: function(err) {
                                console.error("Error loading video:", err);
                            }
                        });
                    });
                });
            </script>
        </body>


</body>

</html>